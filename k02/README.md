# 課題2 レポート
学籍番号　氏名


## 課題
長崎県にある市町村別人口データを読み込み、リスト構造にするプログラムを作成する。

1. 使用するデータ  
長崎県の人口データは、nagasaki.csvに保存されている。
nagasaki.csvには、csv形式で以下のデータが含まれる
- ID
- 県名
- 市町村名
- 人口
- 男性人口
- 女性人口

長崎県の市町村別人口データは、下記に構造体に読み込まれる。
```
typedef struct {
    int id;
    char pref[13];  // UTF-8対応
    char name[19];  // UTF-8対応
    int population;
    int m_population;
    int f_population;
} City;
```

2. 必須問題：実装する関数  
(1) InsertNewNode：必要なメモリを確保し、リストの先頭に新しいデータを挿入する。  
    [入力]
    - City newCity: リストに挿入する市町村のデータ
    - Node* pNext: リストの先頭アドレス  

    [出力]  
    - return値: (リストの先頭に新しいデータを挿入した後の)リストの先頭アドレス

    (2) SearchCityByID: IDをキーとし、リストを検索する。  
    [入力]  
    - Node* pList: リストの先頭アドレス
    - int ID: 検索する市町村のID 
    
    [出力]  
    - return値: IDが合致した場所(先頭を0とする)。IDが一致するデータがない場合は-1。  
    - City* pCity: IDが合致した市町村のデータを入れる

3. 補助関数  
以下の関数はすでに実装されており、利用することができる。  
- PrintCity: 市町村データを出力する
- ReleaseList: リストで確保したメモリを解放する
- PrintList: リストの内容を出力する。

4. チャレンジ問題  
(1) DeleteNodeAt: 任意のノードをリストから削除する(10点)  
    [入力]  
    - Node** ppNode: リストの先頭を指すポインタ変数のアドレス(ポインタのポインタ)  
    - int cn: ノードの位置(先頭のノードを0とする)  
    [出力]  
    - return値: 削除に成功したらSUCCESS、失敗したらERRR  

    (2) SearchCityByName: 市町村を名称で検索する(5点)  
    [入力]
    - int key: 検索する市町村のID
    - City arrayCity: 検索対象の都市別人口データ(配列)
    - int size: データの数  

    [出力]  
    - return値: IDが合致した配列データのindex。IDが一致するデータがない場合は-1。

## ソースコードの説明
l.76 InsertNewNodeを以下のように定義するする

　l.79 Node型として定義されてある分の領域をメモリとして確保し、その先頭アドレスをpNodeに格納

　l.80 pNodeに格納されてあるアドレスが指すメモリ上のcityの領域に引数として受け取ってたnewCityの市町村データを代入

　l.81 pNodeに格納されてあるアドレスが指すメモリ上のpNextの領域に引数として受け取っていたpNextのリストの先頭アドレスを代入

　l.82 pNodeに格納されてあるアドレスを戻り値として返す

l.117 SearchCityByIDを以下のように定義する

　l.120 Node型として定義されてある領域を確保し、その先頭アドレスを格納できるポインタ変数pNodeを定義する

　l.121 pNodeにpListに格納されてあるアドレスを代入

　l.122 先頭から何番目のノードかを表すためにint型の変数num=0として新たに定義する

　　l.123 pNodeが空でない限り以下の処理を繰り返す

　　l.125 もしpNodeに格納されているアドレスの指すメモリのcity領域のidに割り振られている値が引数IDと等しいなら以下の処理を実行する

　　l.127 pCityに格納されているアドレスが指すメモリに、pNodeに格納されているアドレスの指すメモリのcityに格納されてあるデータを、代入

　　l.128 変数numの値を戻り値として返す

　　l.129 ループから抜け出す


　　l.131 そうでなければ以下の処理を実行する

　　l.133 pNodeに格納されてあるアドレスを次のノードのアドレスに更新

　　l.134 nomの値を+1して更新

　l.138 戻り値として-1を更新


## 出力結果
===== Print End =====
City ID?42201
the city was found at 20
42201, 長崎県, 長崎市, 429508, 198716, 230792
free list. items = 21

## 修正履歴

